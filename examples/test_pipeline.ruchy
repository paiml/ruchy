// Test pipeline operator
println("Testing pipeline operator...")

// Simple pipeline - using 2.0 syntax
let result = [1, 2, 3, 4, 5]
    |> map(x => x * 2)
    |> filter(x => x > 5)
let sum = result |> reduce(0, (acc, x) => acc + x)
println(f"Pipeline result: {sum}")

// Function composition with pipeline
fn add_one(x) { x + 1 }
fn double(x) { x * 2 }
fn square(x) { x * x }

let value = 3 |> add_one |> double |> square
println(f"3 |> add_one |> double |> square = {value}")

// String pipeline
let text = "  hello world  " |> trim |> upper
println(f"Text pipeline: {text}")

// Complex data pipeline
let data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
let processed = data
    |> filter(x => x % 2 == 0)  // Keep evens
    |> map(x => x * x)           // Square them
    |> filter(x => x < 50)       // Keep under 50
println(f"Processed data: {processed}")

println("Pipeline tests completed!")